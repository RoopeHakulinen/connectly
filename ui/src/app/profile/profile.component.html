<div class="page-container">
  <h1>{{ 'PROFILE.TITLE' | translate }}</h1>
  <p>{{ 'PROFILE.DESCRIPTION' | translate }}</p>

  <mat-card class="settings-card">
    <mat-card-header>
      <mat-card-title>{{ 'PROFILE.LANGUAGE.TITLE' | translate }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-button-toggle-group [value]="currentLanguage" (change)="changeLanguage($event.value)">
        <mat-button-toggle value="en">English</mat-button-toggle>
        <mat-button-toggle value="fi">Suomi</mat-button-toggle>
      </mat-button-toggle-group>
    </mat-card-content>
  </mat-card>

  <mat-card class="settings-card">
    <mat-card-header>
      <mat-card-title>{{ 'PROFILE.THEME.TITLE' | translate }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-button-toggle-group [value]="themeService.userPreference()" (change)="changeTheme($event.value)">
        <mat-button-toggle value="system">
          <mat-icon>brightness_auto</mat-icon>
          {{ 'PROFILE.THEME.SYSTEM' | translate }}
        </mat-button-toggle>
        <mat-button-toggle value="light">
          <mat-icon>light_mode</mat-icon>
          {{ 'PROFILE.THEME.LIGHT' | translate }}
        </mat-button-toggle>
        <mat-button-toggle value="dark">
          <mat-icon>dark_mode</mat-icon>
          {{ 'PROFILE.THEME.DARK' | translate }}
        </mat-button-toggle>
      </mat-button-toggle-group>
    </mat-card-content>
  </mat-card>

  <mat-card class="settings-card">
    <mat-card-header>
      <mat-card-title>{{ 'PROFILE.NOTIFICATIONS.TITLE' | translate }}</mat-card-title>
    </mat-card-header>
    <mat-card-content class="notification-settings">
      <div class="setting-row">
        <div class="setting-info">
          <p class="setting-description">{{ 'PROFILE.NOTIFICATIONS.DESCRIPTION' | translate }}</p>
          <p *ngIf="permissionStatus === 'denied'" class="warning-text">
            <mat-icon>warning</mat-icon> {{ 'PROFILE.NOTIFICATIONS.BLOCKED' | translate }}
          </p>
        </div>
        <mat-slide-toggle [checked]="isSubscribed" (change)="toggleNotifications($event.checked)">
          {{ (isSubscribed ? 'PROFILE.NOTIFICATIONS.ENABLED' : 'PROFILE.NOTIFICATIONS.DISABLED') | translate }}
        </mat-slide-toggle>
      </div>
    </mat-card-content>
  </mat-card>
</div>